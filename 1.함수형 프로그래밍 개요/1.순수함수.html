<html lang="en">
<head>
</head>
<body>

<script>

/***************************************************************************
 * 순수 함수
 *
 * 1. 순수 함수의 조건
    1.1. 동일한 인자를 전달하면 동일한 결과를 리턴함.
    1.2. 부수 효과(리턴 값 전달 외에 외부 상태에 영향을 주는 것)가 없음.
    1.3  평가 시점에 관계 없이 동일한 결과를 리턴함.
 **************************************************************************/
function add( a, b ) {
    return a + b;
}

console.log(add(10, 5));

// add2 는 상황(c의 값)에 따라 다른 결과를 리턴하는 하므로 순수함수가 아님.
var c = 10;
function add2( a, b ) {
    return a + b +c;
}

console.log( add2(10, 2) );
console.log( add2(10, 3) );
console.log( add2(10, 4) );

c = 20;

console.log( add2(10, 2) );
console.log( add2(10, 3) );
console.log( add2(10, 4) );

// add3 은 외부 상태에 영향을 주므로 순수함수가 아님.
var c = 20;
function add3( a, b ) {
    c = b;
    return a + b;
}

console.log( 'c: ', c );
console.log( add3( 20, 30 ) );
console.log( 'c: ', c );


// add4는 외부 상태(객체의 값)에 영향을 주므로 순수함수가 아님.
var obj1 = { val : 10 };

function add4( obj, b ) {
    obj.val += b;
}

console.log( obj1.val );
add4( obj1, 20 );
console.log( obj1.val );

// 다시 순수함수
var obj = { val : 10 };

function add5( obj, b ) {
    return { val : obj.val + b }
}

console.log( obj1.val );
var obj2 = add5( obj1, 20 );
console.log( obj1.val );
console.log( obj2.val );


</script>
</body>
</html>